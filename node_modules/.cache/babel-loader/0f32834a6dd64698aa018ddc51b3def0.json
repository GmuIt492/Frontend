{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\Michael Tho\\\\Documents\\\\GitHub\\\\Frontend492\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:\\\\Users\\\\Michael Tho\\\\Documents\\\\GitHub\\\\Frontend492\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import{SET_POSTS,LOADING_DATA,LIKE_POST,UNLIKE_POST,POSTING,DELETE_POST}from'../types';var initialState={posts:[],post:{},loading:false};export default function(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;var index;switch(action.type){//load posts\ncase LOADING_DATA:return _objectSpread(_objectSpread({},state),{},{loading:true});//set post w/ payload\ncase SET_POSTS:return _objectSpread(_objectSpread({},state),{},{posts:action.payload,loading:false});//find and match post with payload to like\ncase LIKE_POST:case UNLIKE_POST:index=state.posts.findIndex(function(post){return post.postId===action.payload.postId;});state.posts[index]=action.payload;return _objectSpread({},state);case DELETE_POST:index=state.posts.findIndex(function(post){return post.postId===action.payload;});state.posts.splice(index,1);return _objectSpread({},state);case POSTING:return _objectSpread(_objectSpread({},state),{},{posts:[action.payload].concat(_toConsumableArray(state.posts))});default:return state;}}","map":{"version":3,"sources":["C:/Users/Michael Tho/Documents/GitHub/Frontend492/src/redux/reducers/dataReducer.js"],"names":["SET_POSTS","LOADING_DATA","LIKE_POST","UNLIKE_POST","POSTING","DELETE_POST","initialState","posts","post","loading","state","action","index","type","payload","findIndex","postId","splice"],"mappings":"2WAAA,OAASA,SAAT,CAAmBC,YAAnB,CAAgCC,SAAhC,CAA0CC,WAA1C,CAAsDC,OAAtD,CAA8DC,WAA9D,KAAiF,UAAjF,CAEA,GAAMC,CAAAA,YAAY,CAAG,CACjBC,KAAK,CAAE,EADU,CAEjBC,IAAI,CAAE,EAFW,CAGjBC,OAAO,CAAE,KAHQ,CAArB,CAMA,cAAe,WAAsC,IAA7BC,CAAAA,KAA6B,2DAArBJ,YAAqB,IAARK,CAAAA,MAAQ,2CACjD,GAAIC,CAAAA,KAAJ,CACA,OAAOD,MAAM,CAACE,IAAd,EACI;AACA,IAAKZ,CAAAA,YAAL,CACI,sCACOS,KADP,MAEID,OAAO,CAAE,IAFb,GAIJ;AACA,IAAKT,CAAAA,SAAL,CACI,sCACOU,KADP,MAEIH,KAAK,CAAEI,MAAM,CAACG,OAFlB,CAGIL,OAAO,CAAE,KAHb,GAKJ;AACA,IAAKP,CAAAA,SAAL,CACA,IAAKC,CAAAA,WAAL,CACIS,KAAK,CAAGF,KAAK,CAACH,KAAN,CAAYQ,SAAZ,CAAsB,SAACP,IAAD,QAAUA,CAAAA,IAAI,CAACQ,MAAL,GAAgBL,MAAM,CAACG,OAAP,CAAeE,MAAzC,EAAtB,CAAR,CACAN,KAAK,CAACH,KAAN,CAAYK,KAAZ,EAAqBD,MAAM,CAACG,OAA5B,CACA,wBACOJ,KADP,EAGJ,IAAKL,CAAAA,WAAL,CACIO,KAAK,CAAGF,KAAK,CAACH,KAAN,CAAYQ,SAAZ,CAAsB,SAACP,IAAD,QAAUA,CAAAA,IAAI,CAACQ,MAAL,GAAgBL,MAAM,CAACG,OAAjC,EAAtB,CAAR,CACAJ,KAAK,CAACH,KAAN,CAAYU,MAAZ,CAAmBL,KAAnB,CAAyB,CAAzB,EACA,wBACOF,KADP,EAGJ,IAAKN,CAAAA,OAAL,CACI,sCACOM,KADP,MAEIH,KAAK,EACDI,MAAM,CAACG,OADN,4BAEEJ,KAAK,CAACH,KAFR,EAFT,GAOJ,QACI,MAAOG,CAAAA,KAAP,CArCR,CAuCH","sourcesContent":["import { SET_POSTS,LOADING_DATA,LIKE_POST,UNLIKE_POST,POSTING,DELETE_POST } from '../types';\r\n\r\nconst initialState = {\r\n    posts: [],\r\n    post: {},\r\n    loading: false\r\n}\r\n\r\nexport default function(state = initialState,action) {\r\n    let index;\r\n    switch(action.type) {\r\n        //load posts\r\n        case LOADING_DATA:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n        //set post w/ payload\r\n        case SET_POSTS:\r\n            return {\r\n                ...state,\r\n                posts: action.payload,\r\n                loading: false\r\n            }\r\n        //find and match post with payload to like\r\n        case LIKE_POST:\r\n        case UNLIKE_POST:\r\n            index = state.posts.findIndex((post) => post.postId === action.payload.postId)\r\n            state.posts[index] = action.payload;\r\n            return {\r\n                ...state\r\n            }\r\n        case DELETE_POST:\r\n            index = state.posts.findIndex((post) => post.postId === action.payload);\r\n            state.posts.splice(index,1);\r\n            return {\r\n                ...state\r\n            }\r\n        case POSTING:\r\n            return {\r\n                ...state,\r\n                posts: [\r\n                    action.payload,\r\n                    ...state.posts\r\n                ]\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}